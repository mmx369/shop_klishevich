"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{31612:function(e,n,r){r.d(n,{Z:function(){return de}});var t=r(50029),i=r(87794),a=r.n(i),s=r(27948),o=r(48633),l=r(9008),c=r(67294),d=r(2497),u=r(39133),x=r(35801),h=r(91053),f=r(30399),j=r(36822),m=r(42293),p=r(10155),v=r(83321),Z=r(59874),b=r(73327),g=r(41664),y=r(11163),C=r(85893),O=(0,Z.Z)((function(){return(0,b.Z)({root:{marginBottom:"50px",textAlign:"center",padding:"1rem"}})}));function w(){var e=O(),n=(0,y.useRouter)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.Z,{className:e.root,children:(0,C.jsx)(g.default,{href:"/",children:(0,C.jsx)("a",{children:(0,C.jsx)("strong",{children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"})})})}),(0,C.jsx)(m.Z,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:(0,C.jsx)(s.Z,{maxWidth:"lg",children:(0,C.jsxs)(p.Z,{variant:"dense",children:[(0,C.jsx)(j.Z,{sx:{display:{xs:"none",sm:"block"}},children:(0,C.jsx)(g.default,{href:"/",children:(0,C.jsx)("a",{children:(0,C.jsx)(v.Z,{sx:"/"===n.pathname?{border:"solid 1px"}:null,color:"primary",variant:"contained",size:"small","data-testid":"footerHomepageBtn",disableElevation:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})})}),(0,C.jsx)(g.default,{href:"/paymentandshipping",children:(0,C.jsx)("a",{children:(0,C.jsx)(v.Z,{sx:"/paymentandshipping"===n.pathname?{border:"solid 1px"}:null,color:"primary",variant:"contained",size:"small","data-testid":"footerPaymentBtn",disableElevation:!0,children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,C.jsx)(g.default,{href:"/faq",children:(0,C.jsx)("a",{children:(0,C.jsx)(v.Z,{sx:"/faq"===n.pathname?{border:"solid 1px"}:null,color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})})}),(0,C.jsx)(g.default,{href:"/contacts",children:(0,C.jsx)("a",{children:(0,C.jsx)(v.Z,{sx:"/contacts"===n.pathname?{border:"solid 1px"}:null,color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})})]})})})]})}var k=r(59499),P=r(19572),I=r(58617),S=r(76638),E=r(82461),L=r(1645),N=r(326),A=r(83765),B=r(32158),F=r(78462),z=r(70891),G=r(48885),R=r(59334),T=r(67720),W=r(77533),Y=r(93946),D=r(15861),_=r(18134),U=r(80134),M=r(65472),$=function(e){var n=e.isSignedIn;return(0,C.jsxs)("div",{children:[!n&&(0,C.jsx)(v.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,onClick:function(){(0,o.zB)()},children:"\u0412\u043e\u0439\u0442\u0438"}),n&&(0,C.jsx)(v.Z,{sx:{marginLeft:"5px"},color:"primary",variant:"contained",size:"small",disableElevation:!0,onClick:function(){(0,o.w7)()},children:"\u0412\u044b\u0439\u0442\u0438"})]})},q=r(86886),H=r(94054),J=r(40476),K=r(68061),Q=r(50480),V=r(77781),X=r(40238),ee=r(30557),ne=r(67169),re=(0,Z.Z)((function(){return(0,b.Z)({root:{display:"flex",justifyContent:"space-between",fontFamily:"Arial, Helvetica, sans-serif",borderBottom:"1px solid lightblue",paddingBottom:"10px"},info:{fontSize:"small"},buttons:{display:"flex",justifyContent:"space-between"},img:{maxWidth:"80px",objectFit:"contain",marginLeft:"10px"}})})),te=function(e){var n=e.item,r=e.addToCart,t=e.removeFromCart,i=re();return(0,C.jsxs)("div",{className:i.root,"data-testid":"cartItem",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("h5",{style:{marginBottom:"5px"},children:[(0,ne.Jv)(n.category)," | ",(0,ne.yy)(n.country)," ","| ",n.nameOfGoods]}),(0,C.jsxs)("div",{className:i.info,children:[(0,C.jsxs)("div",{children:["\u0426\u0435\u043d\u0430: ",n.priceOfGoods," ",X.$y]}),(0,C.jsxs)("div",{children:["\u0418\u0442\u043e\u0433\u043e: ",(n.amountOfGoods*n.priceOfGoods).toFixed(0)," ",X.$y]})]}),(0,C.jsxs)("div",{className:i.buttons,children:[(0,C.jsx)(v.Z,{size:"small",variant:"outlined","data-testid":"removeFromCart",onClick:function(){return t(n._id)},children:"-"}),(0,C.jsx)("p",{children:n.amountOfGoods}),(0,C.jsx)(v.Z,{size:"small",variant:"outlined","data-testid":"addToCart",onClick:function(){return r(n._id)},children:"+"})]})]}),(0,C.jsx)("img",{src:n.imageUrl[0],alt:n.nameOfGoods,className:i.img})]})},ie=(0,Z.Z)((function(){return(0,b.Z)({root:{fontFamily:"Arial, Helvetica, sans-serif",width:"250px",padding:"10px"},label:{fontSize:"x-small"},btn:{marginBottom:"5px"}})})),ae=function(e){var n=e.cartItems,r=e.addToCart,t=e.removeFromCart,i=e.setCartOpen,a=ie(),s=(0,y.useRouter)(),o=(0,d.I0)(),l=(0,c.useState)("courier"),u=l[0],x=l[1];(0,c.useEffect)((function(){o((0,ee.i)(X.bW[u])),window.localStorage.setItem("shippingPrice",""+X.bW[u])}),[u]);var h=function(e){return e.reduce((function(e,n){return e+n.amountOfGoods*n.priceOfGoods}),0)};return(0,C.jsxs)("div",{className:a.root,children:[(0,C.jsx)("h3",{style:{textAlign:"center",borderBottom:"1px solid lightblue"},children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430"}),0===n.length?(0,C.jsx)("h4",{style:{textAlign:"center"},children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}):null,n.map((function(e){return(0,C.jsx)(te,{item:e,addToCart:r,removeFromCart:t},e._id)})),!!n.length&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("h3",{children:["\u0412\u0441\u0435\u0433\u043e: ",h(n).toFixed(0)," ",X.$y]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(D.Z,{variant:"subtitle2",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,C.jsx)(q.ZP,{item:!0,xs:12,children:(0,C.jsxs)(H.Z,{component:"fieldset",children:[(0,C.jsx)(J.Z,{component:"legend"}),(0,C.jsxs)(K.Z,{"aria-label":"shipping",name:"shipping",value:u,onChange:function(e){x(e.target.value)},children:[(0,C.jsx)(Q.Z,{classes:{label:a.label},value:"courier",control:(0,C.jsx)(V.Z,{}),label:"\u041a\u0443\u0440\u044c\u0435\u0440 (\u0433.\u041c\u043e\u0441\u043a\u0432\u0430 400 \u0440\u0443\u0431.)","data-testid":"shippingDefaultOption"}),(0,C.jsx)(Q.Z,{classes:{label:a.label},value:"mail",control:(0,C.jsx)(V.Z,{}),label:"\u0417\u0430\u043a\u0430\u0437\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e 1 \u043a\u043b\u0430\u0441\u0441\u0430 (\u041f\u043e\u0447\u0442\u0430 \u0420\u043e\u0441\u0441\u0438\u0438) \u043f\u043e \u0420\u043e\u0441\u0441\u0438\u0438 200 \u0440\u0443\u0431."}),(0,C.jsx)(Q.Z,{classes:{label:a.label},value:"mailOverseas",control:(0,C.jsx)(V.Z,{}),label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u041f\u043e\u0447\u0442\u043e\u0439 \u0420\u043e\u0441\u0441\u0438\u0438 \u0437\u0430 \u0440\u0443\u0431\u0435\u0436 500 \u0440\u0443\u0431."})]})]})}),(0,C.jsx)(q.ZP,{item:!0,xs:12,children:(0,C.jsxs)(D.Z,{variant:"subtitle2",children:["\u0418\u0442\u043e\u0433\u043e \u043a \u043e\u043f\u043b\u0430\u0442\u0435 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438:"," ",X.bW[u]+ +h(n).toFixed(2)," ",X.$y]})})]}),(0,C.jsx)(v.Z,{className:a.btn,variant:"contained",color:"primary",onClick:function(){i(!1),s.push("/checkout")},fullWidth:!0,size:"small","data-testid":"checkoutBtn",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"}),(0,C.jsx)(v.Z,{variant:"contained",color:"primary",onClick:function(){window.localStorage.removeItem("cart"),s.reload()},fullWidth:!0,size:"small",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})]})};function se(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function oe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?se(Object(r),!0).forEach((function(n){(0,k.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var le=(0,Z.Z)((function(){return(0,b.Z)({root:{flexGrow:1},drawer:{width:250,height:"100%"}})}));function ce(e){var n,r=e.currentEmail,t=e.currentRole,i=e.isLoggedIn,a=le(),o=(0,d.I0)(),l=(0,c.useState)({left:!1}),u=l[0],v=l[1],Z=(0,d.v9)(h.nG.currentCart)||[],b=(0,c.useState)(!1),y=b[0],O=b[1],w=function(e,n){return function(r){("keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&v(oe(oe({},u),{},(0,k.Z)({},e,n)))}},q=(0,U.Z)("div")((function(e){var n=e.theme;return oe(oe({display:"flex",alignItems:"center",padding:n.spacing(0,1)},n.mixins.toolbar),{},{justifyContent:"flex-end"})}));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(W.ZP,{anchor:"right",open:y,onClose:function(){return O(!1)},children:(0,C.jsx)(ae,{cartItems:Z,addToCart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o((0,x.v5)(e,n))},removeFromCart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o((0,x.h2)(e,n))},setCartOpen:O})}),(0,C.jsx)(m.Z,{position:"fixed",sx:{boxShadow:"none"},children:(0,C.jsx)(s.Z,{maxWidth:"lg",children:(0,C.jsxs)(p.Z,{variant:"dense",className:a.root,children:[(0,C.jsx)(Y.Z,{color:"inherit","aria-label":"open drawer",onClick:w("left",!0),edge:"start","data-testid":"drawerBtn",children:(0,C.jsx)(N.Z,{})}),(0,C.jsx)(D.Z,{variant:"subtitle2",className:a.root,children:(0,C.jsx)(g.default,{href:"/",children:(0,C.jsx)("a",{"data-testid":"navhomepagelink",children:"\u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"})})}),(0,C.jsx)(j.Z,{sx:{display:{xs:"none",sm:"block"}},children:i===f.Y.True&&(0,C.jsxs)("div",{style:{fontStyle:"italic"},children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",r]})}),i!==f.Y.Unknown&&(0,C.jsx)($,{isSignedIn:i===f.Y.True}),(0,C.jsx)("div",{children:(0,C.jsx)(Y.Z,{color:"inherit",onClick:function(){return O(!0)},"data-testid":"cartBtn",children:(0,C.jsx)(_.Z,{badgeContent:function(e){return e.reduce((function(e,n){return e+n.amountOfGoods}),0)}(Z),color:"error","data-testid":"badgeNumber",children:(0,C.jsx)(A.Z,{})})})})]})})}),(0,C.jsxs)(W.ZP,{anchor:"left",open:u.left,onClose:w("left",!1),children:[(0,C.jsx)(q,{children:(0,C.jsx)(Y.Z,{onClick:w("left",!1),"data-testid":"drawerCloseBtn",children:(0,C.jsx)(P.Z,{})})}),(0,C.jsx)(T.Z,{}),(n="left",(0,C.jsxs)("div",{className:a.drawer,role:"presentation",onClick:w(n,!1),onKeyDown:w(n,!1),"data-testid":"drawer",children:[(0,C.jsxs)(F.Z,{children:[(0,C.jsx)(g.default,{href:"/",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(S.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})]})})}),(0,C.jsx)(g.default,{href:"/paymentandshipping",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(L.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})]})})}),(0,C.jsx)(g.default,{href:"/faq",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(E.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})]})})})]}),(0,C.jsx)(T.Z,{}),(0,C.jsx)(F.Z,{children:(0,C.jsx)(g.default,{href:"/contacts",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(I.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})})})}),(0,C.jsx)(T.Z,{}),t===M.S.Admin&&(0,C.jsx)(g.default,{href:"/admin",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(B.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]})})}),t===M.S.Client||M.S.Admin&&(0,C.jsx)(g.default,{href:"/profile",children:(0,C.jsx)("a",{children:(0,C.jsxs)(z.ZP,{button:!0,children:[(0,C.jsx)(G.Z,{children:(0,C.jsx)(B.Z,{})}),(0,C.jsx)(R.Z,{primary:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})})]}))]})]})}function de(e){var n=e.children,r=e.title,i=(0,d.I0)(),j=(0,d.v9)(h.LL.currentEmail),m=(0,d.v9)(h.LL.currentRole),p=(0,d.v9)(h.LL.isLoggedIn);return(0,c.useEffect)((function(){p===f.Y.Unknown&&(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Gg)();case 2:(n=e.sent)?(i((0,u.lL)(f.Y.True)),i((0,u.bM)(n.user.name,n.user.email,n.databaseId,n.role))):(i((0,u.lL)(f.Y.False)),i((0,u.bM)(void 0,void 0,void 0,void 0)));case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,c.useEffect)((function(){i((0,x.D3)())}),[i]),(0,C.jsxs)("div",{children:[(0,C.jsx)(l.default,{children:(0,C.jsx)("title",{children:r})}),(0,C.jsx)("header",{children:(0,C.jsx)(ce,{currentEmail:j,currentRole:m,isLoggedIn:p})}),(0,C.jsx)("main",{children:(0,C.jsx)(s.Z,{maxWidth:"lg",children:(0,C.jsx)("div",{children:n})})}),(0,C.jsx)("footer",{children:(0,C.jsx)(w,{})})]})}},40238:function(e,n,r){r.d(n,{tl:function(){return t},bW:function(){return i},jr:function(){return a},$y:function(){return s}});var t={CLOUDINARY:{NAME:"dxalptcye",API_KEY:"269656785337686"}},i={courier:400,mail:200,mailOverseas:500},a=["Paper Money","Coins","Other"],s="\u20bd"},46228:function(e,n,r){r.d(n,{aA:function(){return t},od:function(){return i},NA:function(){return a}});var t={"Paper Money":"\u0411\u0430\u043d\u043a\u043d\u043e\u0442\u044b",Coins:"\u041c\u043e\u043d\u0435\u0442\u044b",Other:"\u041f\u0440\u043e\u0447\u0438\u0435"},i={USSR:"\u0421\u0421\u0421\u0420",Russia:"\u0420\u043e\u0441\u0441\u0438\u044f",Tajikistan:"\u0422\u0430\u0434\u0436\u0438\u043a\u0438\u0441\u0442\u0430\u043d",Uzbekistan:"\u0423\u0437\u0431\u0435\u043a\u0438\u0441\u0442\u0430\u043d",Burma:"\u0411\u0438\u0440\u043c\u0430",Yugoslavia:"\u042e\u0433\u043e\u0441\u043b\u0430\u0432\u0438\u044f",Cambodia:"\u041a\u0430\u043c\u0431\u043e\u0434\u0436\u0430",Iran:"\u0418\u0440\u0430\u043d",Nepal:"\u041d\u0435\u043f\u0430\u043b",Bhutan:"\u0411\u0443\u0442\u0430\u043d",Lao:"\u041b\u0430\u043e\u0441",China:"\u041a\u0438\u0442\u0430\u0439",Afganistan:"\u0410\u0444\u0433\u0430\u043d\u0438\u0441\u0442\u0430\u043d"},a={open:"\u043e\u0442\u043a\u0440\u044b\u0442",paid:"\u043e\u043f\u043b\u0430\u0447\u0435\u043d",shipped:"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d",received:"\u043f\u043e\u043b\u0443\u0447\u0435\u043d",closed:"\u0437\u0430\u043a\u0440\u044b\u0442"}},67169:function(e,n,r){r.d(n,{yy:function(){return i},Jv:function(){return a},Iu:function(){return s}});var t=r(46228);function i(e){return t.od[e]?t.od[e]:e}function a(e){return t.aA[e]?t.aA[e]:e}function s(e){return t.NA[e]?t.NA[e]:e}},91053:function(e,n,r){r.d(n,{LL:function(){return t},nG:function(){return i},bc:function(){return a}});var t={currentEmail:function(e){return e.app.currentEmail},currentRole:function(e){return e.app.currentRole},isLoggedIn:function(e){return e.app.isLoggedIn}},i={currentCart:function(e){return e.cart}},a={shippingPrice:function(e){return e.shippingState.shippingPrice}}},65472:function(e,n,r){var t;r.d(n,{S:function(){return t}}),function(e){e.Admin="admin",e.Client="client"}(t||(t={}))}}]);