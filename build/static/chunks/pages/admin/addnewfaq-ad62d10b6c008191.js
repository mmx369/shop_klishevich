(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{77957:function(e,n,t){"use strict";var r=t(95318);n.Z=void 0;var i=r(t(64938)),a=t(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=o},4356:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return I},default:function(){return L}});var r=t(16835),i=t(77957),a=t(86886),o=t(83321),s=t(72882),u=t(55113),c=t(7906),l=t(53184),d=t(53816),h=t(53252),m=t(295),x=t(93946),p=t(59874),f=t(73327),w=t(48633),v=t(11163),Z=t(67294),j=t(50029),q=t(87794),g=t.n(q),P=t(61903),T=t(9669),C=t.n(T),F=t(82175),_=t(72132),b=(t(64213),t(74231)),y=t(85893);_.Am.configure();var S={question:"",answer:""},k=b.Ry({question:b.Z_().min(5,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(1e3,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),answer:b.Z_().min(3,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(1e3,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),N=function(e){var n=e.setToggleVisability,t=(0,v.useRouter)(),r=(0,F.TA)({initialValues:S,validationSchema:k,onSubmit:function(){var e=(0,j.Z)(g().mark((function e(r){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){var e=(0,j.Z)(g().mark((function e(){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={question:r.question,answer:r.answer},e.next=4,C().post("".concat("https://klishevich.ru","/api/addnewfaq"),i);case 4:_.Am.success("\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),t.replace(t.asPath),n({addNewFaq:!1,editForm:!1,addContentButton:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),_.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.response.data.message),{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),i();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});return(0,y.jsx)("div",{children:(0,y.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,y.jsx)(a.ZP,{item:!0,children:(0,y.jsx)("h3",{style:{textAlign:"center"},children:"\u041d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441-\u043e\u0442\u0432\u0435\u0442"})}),(0,y.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,y.jsx)(a.ZP,{item:!0,children:(0,y.jsx)(P.Z,{multiline:!0,rows:4,id:"question",name:"question",label:"\u0412\u043e\u043f\u0440\u043e\u0441",type:"text",value:r.values.question,onChange:r.handleChange,error:r.touched.question&&Boolean(r.errors.question),helperText:r.touched.question&&r.errors.question,variant:"filled",margin:"none",fullWidth:!0})}),(0,y.jsx)(a.ZP,{item:!0,children:(0,y.jsx)(P.Z,{multiline:!0,rows:4,id:"answer",name:"answer",label:"\u041e\u0442\u0432\u0435\u0442",value:r.values.answer,onChange:r.handleChange,error:r.touched.answer&&Boolean(r.errors.answer),helperText:r.touched.answer&&r.errors.answer,variant:"filled",margin:"none",fullWidth:!0})}),(0,y.jsxs)(a.ZP,{item:!0,children:[(0,y.jsx)(o.Z,{sx:{margin:"5px"},variant:"outlined",color:"secondary",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,y.jsx)(o.Z,{sx:{margin:"5px"},variant:"outlined",color:"secondary",onClick:function(){n({addNewFaq:!1,editForm:!1,addContentButton:!0})},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})})},O=function(e){var n=e.id,t=e.updateFaqList,r=e.setToggleVisability,i=e.reloadFaqForm,s=(0,v.useRouter)(),u=b.Ry({question:b.Z_().min(5,"\u0412\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(1e3,"\u0412\u043e\u043f\u0440\u043e\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),answer:b.Z_().min(3,"\u041e\u0442\u0432\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(1e3,"\u041e\u0442\u0432\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 1000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),c=(0,Z.useState)({question:"",answer:""}),l=c[0],d=c[1];(0,Z.useEffect)((function(){C().get("".concat("https://klishevich.ru","/api/getfaqdata?id=").concat(n)).then((function(e){var n=e.data;d({question:n.question||"",answer:n.answer||""})})).catch((function(e){return console.log(e)}))}),[i]);var h=(0,F.TA)({enableReinitialize:!0,initialValues:l,validationSchema:u,onSubmit:function(){var e=(0,j.Z)(g().mark((function e(i){var a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=(0,j.Z)(g().mark((function e(){var a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={answer:i.answer,question:i.question,id:n},e.next=4,C().put("".concat("https://klishevich.ru","/api/updatefaq"),a);case 4:200===e.sent.status&&(_.Am.success("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),t(),r({addNewFaq:!1,editForm:!1,addContentButton:!0})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.response.data.message),{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),a();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),m=function(){var e=(0,j.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C().delete("".concat("https://klishevich.ru","/api/deletefaq"),{data:n});case 3:_.Am.success("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),r({addNewFaq:!1,editForm:!1,addContentButton:!0}),s.replace(s.asPath),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.response.data.message),{position:_.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(a.ZP,{container:!0,direction:"column",children:[(0,y.jsx)(a.ZP,{item:!0,sx:{textAlign:"center"},children:(0,y.jsx)("div",{children:(0,y.jsx)("h3",{children:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438\u043b\u0438 \u043e\u0442\u0432\u0435\u0442"})})}),(0,y.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,y.jsx)(a.ZP,{item:!0,children:(0,y.jsx)(P.Z,{multiline:!0,rows:4,id:"question",name:"question",label:"\u0412\u043e\u043f\u0440\u043e\u0441",type:"text",value:h.values.question,onChange:h.handleChange,error:h.touched.question&&Boolean(h.errors.question),helperText:h.touched.question&&h.errors.question,variant:"filled",margin:"none",fullWidth:!0})}),(0,y.jsx)(a.ZP,{item:!0,children:(0,y.jsx)(P.Z,{multiline:!0,rows:4,id:"answer",name:"answer",label:"\u041e\u0442\u0432\u0435\u0442",value:h.values.answer,onChange:h.handleChange,error:h.touched.answer&&Boolean(h.errors.answer),helperText:h.touched.answer&&h.errors.answer,variant:"filled",margin:"none",fullWidth:!0})}),(0,y.jsx)(a.ZP,{item:!0,sx:{marginBottom:"5px"},children:(0,y.jsx)(o.Z,{variant:"outlined",color:"secondary",fullWidth:!0,type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),(0,y.jsx)(a.ZP,{item:!0,sx:{marginBottom:"5px"},children:(0,y.jsx)(o.Z,{variant:"outlined",color:"secondary",onClick:function(){r({addNewFaq:!1,editForm:!1,addContentButton:!0})},fullWidth:!0,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})}),(0,y.jsx)(a.ZP,{item:!0,sx:{marginBottom:"5px"},children:(0,y.jsx)(o.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:m,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})})]})},A=t(31612),B=t(65472),E=(0,p.Z)((function(){return(0,f.Z)({root:{marginTop:"50px",maxWidth:"900px",marginLeft:"auto",marginRight:"auto"}})})),I=!0;function L(e){var n=e.faqList,t=E(),p=(0,w.kP)(),f=(0,r.Z)(p,2),j=f[0],q=f[1],g=(0,Z.useState)(""),P=g[0],T=g[1],C=(0,Z.useState)(""),F=C[0],_=C[1],b=(0,Z.useState)(""),S=b[0],k=b[1],I=(0,Z.useState)({addNewFaq:!1,editForm:!1,addContentButton:!0}),L=I[0],W=I[1],V=(0,Z.useState)(!1),R=V[0],z=V[1];if(q)return null;if(!j)return(0,y.jsxs)(A.Z,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",children:[(0,y.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),";"]});if(j.role!==B.S.Admin)return(0,y.jsxs)(A.Z,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",children:[(0,y.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"}),";"]});var M=function(e,n,t){return function(){window.scrollTo(0,0),z(!R),W({addNewFaq:!1,editForm:!0,addContentButton:!1}),T(e),_(n),k(t)}};return(0,y.jsx)(A.Z,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 | \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u0432",children:(0,y.jsxs)("div",{className:t.root,children:[(0,y.jsxs)(a.ZP,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,y.jsx)(a.ZP,{item:!0,children:L.addContentButton&&(0,y.jsx)(o.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:function(){W({addNewFaq:!0,editForm:!1,addContentButton:!1})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 (\u043e\u0442\u0432\u0435\u0442)"})}),(0,y.jsx)(a.ZP,{item:!0,children:L.editForm&&(0,y.jsx)(O,{id:P,updateFaqList:function(){v.default.replace(v.default.asPath)},setToggleVisability:W,reloadFaqForm:R,answer:S,question:F})}),(0,y.jsx)(a.ZP,{item:!0,children:L.addNewFaq&&(0,y.jsx)(N,{setToggleVisability:W})})]}),(0,y.jsx)(s.Z,{component:u.Z,children:(0,y.jsxs)(c.Z,{"aria-label":"simple table",children:[(0,y.jsx)(l.Z,{children:(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(h.Z,{children:"\u0412\u043e\u043f\u0440\u043e\u0441"}),(0,y.jsx)(h.Z,{children:"\u041e\u0442\u0432\u0435\u0442"}),(0,y.jsx)(h.Z,{align:"center",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}),(0,y.jsx)(m.Z,{children:n&&n.map((function(e){return(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(h.Z,{component:"th",scope:"row",children:e.question}),(0,y.jsx)(h.Z,{children:e.answer}),(0,y.jsx)(h.Z,{align:"center",children:(0,y.jsx)(x.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:M(e._id,e.question,e.answer),children:(0,y.jsx)(i.Z,{})})})]},e._id)}))})]})})]})})}},32839:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/addnewfaq",function(){return t(4356)}])}},function(e){e.O(0,[504,89,138,490,986,659,612,774,888,179],(function(){return n=32839,e(e.s=n);var n}));var n=e.O();_N_E=n}]);