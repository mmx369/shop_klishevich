(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{29416:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(16835),o=n(4730),c=n(59499),i=n(55113),a=n(86886),l=n(94054),s=n(47312),u=n(40138),d=n(18972),p=n(83321),f=n(59874),h=n(73327),x=n(82175),y=n(11163),b=n(67294),j=n(82515),g=n(96126),m=n(67169),v=n(85893),Z=["countries","type"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,f.Z)((function(){return(0,h.Z)({root:{margin:"10px",marginTop:"50px"},paper:{margin:"auto",maxWidth:"500px",padding:"2rem"}})}));function w(e){var t=e.productTypesCount,n=e.countriesCount,r=e.singleColumn,o=C(),c=(0,y.useRouter)().query,f=r?12:6,h=[0,10,100,500,1e3,5e3,1e4],j=(0,b.useState)("all"),Z=j[0],O=j[1],w=h;(0,b.useEffect)((function(){w=function(e){return"all"===e?h:h.filter((function(t){return t>=e}))}(Z)}),[Z]);var T={type:(0,g.X)(c.type)||"all",country:(0,g.X)(c.country)||"all",minPrice:(0,g.X)(c.minPrice)||"all",maxPrice:(0,g.X)(c.maxPrice)||"all"};return(0,v.jsx)("div",{className:o.root,"data-testid":"searchForm",children:(0,v.jsx)(x.J9,{initialValues:T,onSubmit:function(e){y.default.push({pathname:"/shop",query:P(P({},e),{},{page:1})},void 0,{shallow:!0})},children:function(e){var r=e.values;return(0,v.jsx)(x.l0,{children:(0,v.jsx)(i.Z,{elevation:2,className:o.paper,children:(0,v.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,v.jsx)(a.ZP,{item:!0,xs:12,sm:f,children:(0,v.jsxs)(l.Z,{fullWidth:!0,variant:"standard",children:[(0,v.jsx)(s.Z,{id:"search-type",children:"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,v.jsxs)(x.gN,{name:"type",as:u.Z,labelId:"search-type",label:"Type","data-testid":"productFieldSelect",children:[(0,v.jsx)(d.Z,{value:"all",children:(0,v.jsx)("em",{children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"})}),t.map((function(e){return(0,v.jsx)(d.Z,{value:e.type,"data-testid":"selectOptionsProductTypes",children:"".concat((0,m.Jv)(e.type)," (").concat(e.count,")")},e.type)}))]})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sm:f,children:(0,v.jsx)(I,{type:r.type,name:"country",countries:n})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sm:f,children:(0,v.jsxs)(l.Z,{fullWidth:!0,variant:"standard",children:[(0,v.jsx)(s.Z,{id:"search-min-price",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}),(0,v.jsxs)(x.gN,{name:"minPrice",as:u.Z,labelId:"search-min-price",label:"Min price","data-testid":"minPriceFieldSelect",children:[(0,v.jsx)(d.Z,{value:"all",children:(0,v.jsx)("em",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})}),h.map((function(e){return(0,v.jsx)(d.Z,{value:e,"data-testid":"selectOptionsMinPrice",children:e},e)}))]})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sm:f,children:(0,v.jsxs)(l.Z,{fullWidth:!0,variant:"standard",children:[(0,v.jsx)(s.Z,{id:"search-max-price",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}),(0,v.jsxs)(x.gN,{name:"maxPrice",as:u.Z,labelId:"search-max-price",label:"Max price","data-testid":"maxPriceFieldSelect",children:[(0,v.jsx)(d.Z,{value:"all",children:(0,v.jsx)("em",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})}),w.map((function(e){return(0,v.jsx)(d.Z,{value:e,"data-testid":"selectOptionsMaxPrice",children:e},e)}))]})]})}),O(r.minPrice),(0,v.jsx)(a.ZP,{item:!0,xs:12,children:(0,v.jsx)(p.Z,{fullWidth:!0,type:"submit",variant:"contained",color:"primary","data-testid":"searchBtn",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})})]})})})}})})}function I(e){var t=e.countries,n=e.type,c=(0,o.Z)(e,Z),i=(0,x.u6)().setFieldValue,a=(0,x.U$)({name:c.name}),p=(0,r.Z)(a,1)[0],f=(0,j.ZP)("/api/getcountry?type="+n,{dedupingInterval:6e4,onSuccess:function(e){e.map((function(e){return e.country})).includes(p.value)||i("country","all")}}).data||t;return(0,v.jsxs)(l.Z,{fullWidth:!0,variant:"standard",children:[(0,v.jsx)(s.Z,{id:"search-country",children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),(0,v.jsxs)(u.Z,P(P(P({labelId:"search-country",label:"Country"},p),c),{},{"data-testid":"countryFieldSelect",children:[(0,v.jsx)(d.Z,{value:"all",children:(0,v.jsx)("em",{children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"})}),f.map((function(e){return(0,v.jsx)(d.Z,{value:e.country,"data-testid":"selectOptionsCountry",children:"".concat((0,m.yy)(e.country)," (").concat(e.count,")")},e.country)}))]}))]})}},96126:function(e,t,n){"use strict";function r(e){return"undefined"===typeof e?"":Array.isArray(e)?e[0]:e}n.d(t,{X:function(){return r}})},73320:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return W},default:function(){return D}});var r=n(86886),o=n(59874),c=n(73327),i=n(59499),a=n(50029),l=n(87794),s=n.n(l),u=n(42096),d=n(32440),p=n(25068),f=n(38532),h=n(4707),x=n(11163),y=n(67169),b=n(4730),j=n(26452),g=n(15861),m=n(85893),v=["labelText","labelIcon","labelInfo","color","bgColor"];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O=(0,o.Z)((function(e){return(0,c.Z)({root:{color:e.palette.text.secondary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:null===e||void 0===e?void 0:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}})}));function P(e){var t=O(),n=e.labelText,r=e.labelIcon,o=e.labelInfo,c=e.color,a=e.bgColor,l=(0,b.Z)(e,v);return(0,m.jsx)(j.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:(0,m.jsxs)("div",{className:t.labelRoot,children:[(0,m.jsx)(r,{color:"inherit",className:t.labelIcon}),(0,m.jsx)(g.Z,{variant:"body2",className:t.labelText,children:n}),(0,m.jsx)(g.Z,{variant:"caption",color:"inherit",children:o})]}),style:{"--tree-view-color":c,"--tree-view-bg-color":a},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},l))}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,o.Z)((function(){return(0,c.Z)({root:{padding:20}})}));function T(e){var t=e.listOfCountries,n=e.listOfCountriesCoins,r=I(),o=function(){var e=(0,a.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.default.push({pathname:"/shop",query:{type:t,country:n,page:1}},void 0,{shallow:!0});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=t.map((function(e){return w(w({},e),{},{countryTranslated:(0,y.yy)(e.country)})})).sort(function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){return(n[e]<r[e]?-1:n[e]>r[e]?1:0)*t}}("countryTranslated"));return(0,m.jsx)("div",{className:r.root,"data-testid":"catalogLeft",children:(0,m.jsx)(h.Z,{defaultExpanded:["1","2"],defaultCollapseIcon:(0,m.jsx)(u.Z,{}),defaultExpandIcon:(0,m.jsx)(d.Z,{}),defaultEndIcon:(0,m.jsx)("div",{style:{width:24}}),children:(0,m.jsxs)(P,{nodeId:"1",labelText:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",labelIcon:p.Z,children:[(0,m.jsxs)(P,{nodeId:"2",labelText:"\u0411\u0430\u043d\u043a\u043d\u043e\u0442\u044b",labelIcon:f.Z,children:[(0,m.jsx)(P,{nodeId:"8",labelText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",labelIcon:d.Z,onClick:function(){return o("Paper Money","all")}}),c.map((function(e,t){return(0,m.jsx)(P,{nodeId:String(t+10),labelIcon:d.Z,labelText:e.countryTranslated,labelInfo:e.count.toString(),"data-testid":"test-".concat(e.country),color:"#1a73e8",bgColor:"#e8f0fe",onClick:function(){return o("Paper Money",e.country)}},e.country)}))]}),(0,m.jsxs)(P,{nodeId:"5",labelText:"\u041c\u043e\u043d\u0435\u0442\u044b",labelIcon:f.Z,children:[(0,m.jsx)(P,{nodeId:"9",labelText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",labelIcon:d.Z,onClick:function(){return o("Coins","all")}}),n.map((function(e,t){return(0,m.jsx)(P,{nodeId:String(t+100),labelText:"".concat((0,y.yy)(e.country)),labelIcon:d.Z,labelInfo:e.count.toString(),color:"#1a73e8",bgColor:"#e8f0fe",onClick:function(){return o("Coins",e.country)}},e.country)}))]})]})})})}var S=n(41664),k=(0,o.Z)((function(){return(0,c.Z)({root:{marginTop:50}})}));function N(){var e=k();return(0,m.jsx)("section",{className:e.root,children:(0,m.jsxs)(g.Z,{variant:"subtitle2",align:"justify","data-testid":"mainTextBlock",children:["\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \u0412\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0438 \u0438 \u043d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0438. \u0412 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 \u043d\u0430\u0448\u0435\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0440\u0430\u0437\u0434\u0435\u043b\u044b \u0411\u0430\u043d\u043a\u043d\u043e\u0442\u044b \u0438 \u041c\u043e\u043d\u0435\u0442\u044b. \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442\u0441\u044f. \u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0431\u0430\u043d\u043a\u043d\u043e\u0442 \u0438\u043b\u0438 \u043c\u043e\u043d\u0435\u0442 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c (\u041f\u043e\u0447\u0442\u0430 \u0420\u043e\u0441\u0441\u0438\u0438), \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438. ",(0,m.jsx)("p",{children:"\u0423\u0434\u0430\u0447\u043d\u043e\u0439 \u0432\u0430\u043c \u043f\u043e\u043a\u0443\u043f\u043a\u0438!"})," \u0411\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xa0",(0,m.jsx)("strong",{children:(0,m.jsx)(S.default,{href:"/paymentandshipping",children:(0,m.jsx)("a",{"data-testid":"navPaymentLink",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430."})})})]})})}var E=n(29416),_=n(31612),$=(0,o.Z)((function(){return(0,c.Z)({root:{maxWidth:"900px",marginLeft:"auto",marginRight:"auto"}})})),W=!0;function D(e){var t=e.productTypesCount,n=e.listOfCountriesCount,o=e.listOfCountriesCoinsCount,c=$();return(0,m.jsx)(_.Z,{title:"\u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430 | \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d | \u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u0431\u0430\u043d\u043a\u043d\u043e\u0442 \u0438 \u043c\u043e\u043d\u0435\u0442",children:(0,m.jsxs)("div",{className:c.root,children:[(0,m.jsx)(r.ZP,{container:!0,spacing:2,children:(0,m.jsx)(r.ZP,{item:!0,xs:12,children:(0,m.jsx)(N,{})})}),(0,m.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,m.jsx)(r.ZP,{item:!0,xs:12,sm:4,children:(0,m.jsx)(T,{listOfCountries:n,listOfCountriesCoins:o})}),(0,m.jsx)(r.ZP,{item:!0,xs:12,sm:8,children:(0,m.jsx)(E.Z,{productTypesCount:t,countriesCount:[]})})]})]})})}},45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(73320)}])}},function(e){e.O(0,[504,89,138,490,14,474,612,774,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);