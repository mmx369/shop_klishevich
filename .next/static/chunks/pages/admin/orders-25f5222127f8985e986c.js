(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{6479:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(2949),r=t(6156),a=t(2122),o=t(7294),s=(t(5697),t(6010)),l=t(4670),c=t(4720),d=t(3711),u=t(3834),m=t(4768),h=t(3935),p="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,n){var t=e.alignItems,r=void 0===t?"center":t,l=e.autoFocus,f=void 0!==l&&l,g=e.button,x=void 0!==g&&g,v=e.children,b=e.classes,Z=e.className,j=e.component,P=e.ContainerComponent,w=void 0===P?"li":P,k=e.ContainerProps,N=(k=void 0===k?{}:k).className,C=(0,i.Z)(k,["className"]),y=e.dense,I=void 0!==y&&y,E=e.disabled,R=void 0!==E&&E,S=e.disableGutters,B=void 0!==S&&S,L=e.divider,A=void 0!==L&&L,_=e.focusVisibleClassName,D=e.selected,T=void 0!==D&&D,z=(0,i.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),M=o.useContext(m.Z),O={dense:I||M.dense||!1,alignItems:r},G=o.useRef(null);p((function(){f&&G.current&&G.current.focus()}),[f]);var W=o.Children.toArray(v),F=W.length&&(0,d.Z)(W[W.length-1],["ListItemSecondaryAction"]),H=o.useCallback((function(e){G.current=h.findDOMNode(e)}),[]),V=(0,u.Z)(H,n),Y=(0,a.Z)({className:(0,s.Z)(b.root,Z,O.dense&&b.dense,!B&&b.gutters,A&&b.divider,R&&b.disabled,x&&b.button,"center"!==r&&b.alignItemsFlexStart,F&&b.secondaryAction,T&&b.selected),disabled:R},z),U=j||"li";return x&&(Y.component=j||"div",Y.focusVisibleClassName=(0,s.Z)(b.focusVisible,_),U=c.Z),F?(U=Y.component||j?U:"div","li"===w&&("li"===U?U="div":"li"===Y.component&&(Y.component="div")),o.createElement(m.Z.Provider,{value:O},o.createElement(w,(0,a.Z)({className:(0,s.Z)(b.container,N),ref:V},C),o.createElement(U,Y,W),W.pop()))):o.createElement(m.Z.Provider,{value:O},o.createElement(U,(0,a.Z)({ref:V},Y),W))})),g=(0,l.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f),x=o.forwardRef((function(e,n){var t,r=e.classes,l=e.className,c=e.component,d=void 0===c?"li":c,u=e.disableGutters,m=void 0!==u&&u,h=e.ListItemClasses,p=e.role,f=void 0===p?"menuitem":p,x=e.selected,v=e.tabIndex,b=(0,i.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(t=void 0!==v?v:-1),o.createElement(g,(0,a.Z)({button:!0,role:f,tabIndex:t,component:d,selected:x,disableGutters:m,classes:(0,a.Z)({dense:r.dense},h),className:(0,s.Z)(r.root,l,x&&r.selected,!m&&r.gutters),ref:n},b))})),v=(0,l.Z)((function(e){return{root:(0,a.Z)({},e.typography.body1,(0,r.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,a.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(x)},6013:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var i=t(5893),r=t(7757),a=t.n(r),o=t(2137),s=t(7294),l=t(9008),c=t(1120),d=t(7623),u=t(5258),m=t(8358),h=t(2318),p=t(2613),f=t(7812),g=t(5629),x=t(5988),v=t(8633),b=t(282),Z=function(e){var n=e.isSignedIn;return(0,i.jsxs)("div",{className:"jsx-103564394",children:[!n&&(0,i.jsx)(b.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,v.zB)()},children:"\u0412\u043e\u0439\u0442\u0438"}),n&&(0,i.jsx)(b.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,v.w7)()},children:"\u0412\u044b\u0439\u0442\u0438"}),(0,i.jsx)(x.default,{id:"103564394",children:["div.jsx-103564394{margin:5px;}"]})]})},j=t(2669),P=t(1163),w=(0,c.Z)((function(){return(0,d.Z)({root:{flexGrow:1},link:{color:"white",textDecoration:"none"}})}));function k(e){e.currentUser;var n=e.currentEmail,t=(e.currentId,e.currentRole,e.isLoggedIn),r=e.isCartEmpty,a=w(),o=(0,P.useRouter)();return(0,i.jsx)(u.Z,{position:"static",children:(0,i.jsxs)(m.Z,{variant:"dense",className:a.root,children:[(0,i.jsx)(h.Z,{variant:"subtitle2",className:a.root,children:"\u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,i.jsx)(p.Z,{xsDown:!0,children:t===g.Y.True&&(0,i.jsxs)("div",{children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",n]})}),!!r.length&&(0,i.jsx)("div",{children:(0,i.jsx)(f.Z,{color:"inherit",onClick:function(e){e.preventDefault(),o.push("/cart")},children:(0,i.jsx)(j.Z,{})})}),t!==g.Y.Unknown&&(0,i.jsx)(Z,{isSignedIn:t===g.Y.True})]})})}var N=t(770),C=t(1664),y=t(9226),I=t(3023),E=t(2244),R=t(456),S=(0,c.Z)((function(e){return(0,d.Z)({text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},link:{textDecoration:"none"}})}));function B(){var e=S();return(0,i.jsx)(s.Fragment,{children:(0,i.jsx)(u.Z,{position:"fixed",color:"primary",className:e.appBar,children:(0,i.jsxs)(m.Z,{variant:"dense",children:[(0,i.jsx)(p.Z,{xsDown:!0,children:(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(b.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})})}),(0,i.jsx)(C.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(b.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(C.default,{href:"/faq",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(b.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})})}),(0,i.jsx)(C.default,{href:"/contacts",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(b.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})})]})})})}var L=(0,c.Z)((function(){return(0,d.Z)({main:{margin:"15px"},footer:{margin:"15px",textAlign:"center"},link:{textDecoration:"none"},bread:{marginTop:"10px",marginLeft:"15px"}})}));function A(e){var n=e.children,t=e.title,r=L(),c=(0,y.I0)(),d=(0,y.v9)((function(e){return e.app.currentUser})),u=(0,y.v9)((function(e){return e.app.currentEmail})),m=(0,y.v9)((function(e){return e.app.currentId})),p=(0,y.v9)((function(e){return e.app.currentRole})),f=(0,y.v9)((function(e){return e.app.isLoggedIn}));s.useEffect((function(){f===g.Y.Unknown&&(0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Gg)();case 2:(n=e.sent)?(c((0,I.lL)(g.Y.True)),c((0,I.bM)(n.user.name,n.user.email,n.databaseId,n.role))):(c((0,I.lL)(g.Y.False)),c((0,I.bM)(void 0,void 0,void 0,void 0)));case 4:case"end":return e.stop()}}),e)})))()}),[]),s.useEffect((function(){c((0,R.D3)())}),[c]);var x=(0,y.v9)((function(e){return e.cart}))||[];return(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.default,{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{charSet:"utf-8"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsxs)("header",{children:[(0,i.jsx)(k,{currentUser:d,currentEmail:u,currentId:m,currentRole:p,isLoggedIn:f,isCartEmpty:x}),(0,i.jsxs)(N.Z,{"aria-label":"breadcrumb",className:r.bread,children:[(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)(h.Z,{color:"primary",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}),(0,i.jsx)(C.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)(h.Z,{color:"primary",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(C.default,{href:"/faq",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)(h.Z,{color:"primary",children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b"})})}),(0,i.jsx)(C.default,{href:"/contacts",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)(h.Z,{color:"primary",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})}),p===E.S.Admin&&(0,i.jsx)(C.default,{href:"/admin",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)(h.Z,{color:"inherit",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})]}),(0,i.jsx)("main",{className:r.main,children:(0,i.jsx)("div",{style:{flexGrow:1},children:n})}),(0,i.jsxs)("footer",{className:r.footer,children:[(0,i.jsx)(B,{}),(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:r.link,children:(0,i.jsx)("b",{children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"})})})]})]})}},4699:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return V},default:function(){return Y}});var i=t(5893),r=t(8481),a=t(8633),o=t(7294),s=t(6013),l=t(1120),c=t(9895),d=t(2302),u=t(9613),m=t(8222),h=t(6847),p=t(3750),f=t(2122),g=t(2949),x=(t(5697),t(6010)),v=t(4670),b=t(1598),Z=t(6479),j=t(8436),P=t(8358),w=t(2318),k=t(5209),N=(0,k.Z)(o.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),C=(0,k.Z)(o.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),y=t(8920),I=t(7812),E=o.createElement(C,null),R=o.createElement(N,null),S=o.createElement(N,null),B=o.createElement(C,null),L=o.forwardRef((function(e,n){var t=e.backIconButtonProps,i=e.count,r=e.nextIconButtonProps,a=e.onPageChange,s=e.page,l=e.rowsPerPage,c=(0,g.Z)(e,["backIconButtonProps","count","nextIconButtonProps","onPageChange","page","rowsPerPage"]),d=(0,y.Z)();return o.createElement("div",(0,f.Z)({ref:n},c),o.createElement(I.Z,(0,f.Z)({onClick:function(e){a(e,s-1)},disabled:0===s,color:"inherit"},t),"rtl"===d.direction?E:R),o.createElement(I.Z,(0,f.Z)({onClick:function(e){a(e,s+1)},disabled:-1!==i&&s>=Math.ceil(i/l)-1,color:"inherit"},r),"rtl"===d.direction?S:B))})),A=t(5001),_=function(e){var n=e.from,t=e.to,i=e.count;return"".concat(n,"-").concat(t," of ").concat(-1!==i?i:"more than ".concat(t))},D=[10,25,50,100],T=o.forwardRef((function(e,n){var t,i=e.ActionsComponent,r=void 0===i?L:i,a=e.backIconButtonProps,s=e.backIconButtonText,l=void 0===s?"Previous page":s,c=e.classes,d=e.className,u=e.colSpan,h=e.component,p=void 0===h?m.Z:h,v=e.count,k=e.labelDisplayedRows,N=void 0===k?_:k,C=e.labelRowsPerPage,y=void 0===C?"Rows per page:":C,I=e.nextIconButtonProps,E=e.nextIconButtonText,R=void 0===E?"Next page":E,S=e.onChangePage,B=e.onPageChange,T=e.onChangeRowsPerPage,z=e.onRowsPerPageChange,M=e.page,O=e.rowsPerPage,G=e.rowsPerPageOptions,W=void 0===G?D:G,F=e.SelectProps,H=void 0===F?{}:F,V=(0,g.Z)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),Y=S||B,U=T||z;p!==m.Z&&"td"!==p||(t=u||1e3);var $=(0,A.Z)(),q=(0,A.Z)(),K=H.native?"option":Z.Z;return o.createElement(p,(0,f.Z)({className:(0,x.Z)(c.root,d),colSpan:t,ref:n},V),o.createElement(P.Z,{className:c.toolbar},o.createElement("div",{className:c.spacer}),W.length>1&&o.createElement(w.Z,{color:"inherit",variant:"body2",className:c.caption,id:q},y),W.length>1&&o.createElement(j.Z,(0,f.Z)({classes:{select:c.select,icon:c.selectIcon},input:o.createElement(b.Z,{className:(0,x.Z)(c.input,c.selectRoot)}),value:O,onChange:U,id:$,labelId:q},H),W.map((function(e){return o.createElement(K,{className:c.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),o.createElement(w.Z,{color:"inherit",variant:"body2",className:c.caption},N({from:0===v?0:M*O+1,to:-1!==v?Math.min(v,(M+1)*O):(M+1)*O,count:-1===v?-1:v,page:M})),o.createElement(r,{className:c.actions,backIconButtonProps:(0,f.Z)({title:l,"aria-label":l},a),count:v,nextIconButtonProps:(0,f.Z)({title:R,"aria-label":R},I),onPageChange:Y,page:M,rowsPerPage:O})))})),z=(0,v.Z)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(T),M=t(7394),O=t(1163),G=[{id:"date",label:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",minWidth:170},{id:"firstName",label:"\u041a\u043b\u0438\u0435\u043d\u0442",minWidth:100},{id:"city",label:"\u0413\u043e\u0440\u043e\u0434",minWidth:170,align:"right"},{id:"totalPrice",label:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430",minWidth:170,align:"right"},{id:"status",label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430",minWidth:170,align:"right"}],W=(0,l.Z)({root:{width:"100%"},container:{maxHeight:440}});function F(e){var n=e.listOfOrders,t=W(),a=o.useState(0),s=(0,r.Z)(a,2),l=s[0],f=s[1],g=o.useState(10),x=(0,r.Z)(g,2),v=x[0],b=x[1],Z=(0,O.useRouter)();return(0,i.jsxs)(c.Z,{className:t.root,children:[(0,i.jsx)(h.Z,{className:t.container,children:(0,i.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,i.jsx)(p.Z,{children:(0,i.jsx)(M.Z,{children:G.map((function(e){return(0,i.jsx)(m.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),(0,i.jsx)(u.Z,{children:n.slice(l*v,l*v+v).map((function(e){return(0,i.jsx)(M.Z,{hover:!0,role:"checkbox",tabIndex:-1,onClick:function(){return function(e,n){e.preventDefault(),Z.push("orders/".concat(n))}(event,e._id)},children:G.map((function(n){var t="date"===n.id?new Date(e[n.id]).toLocaleDateString():"firstName"===n.id?e[n.id]+" "+e.secondName:e[n.id];return(0,i.jsx)(m.Z,{align:n.align,children:t},n.id)}))},e._id)}))})]})}),(0,i.jsx)(z,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:v,page:l,onPageChange:function(e,n){f(n)},onRowsPerPageChange:function(e){b(+e.target.value),f(0)}})]})}var H=t(2244),V=!0;function Y(e){var n=e.res,t=(0,a.kP)(),o=(0,r.Z)(t,2),l=o[0];return o[1]?null:l?l.role!==H.S.Admin?(0,i.jsxs)(s.Z,{title:"Admin profile",children:[(0,i.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"}),";"]}):(0,i.jsx)(s.Z,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 | \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438",children:(0,i.jsx)(F,{listOfOrders:n})}):(0,i.jsxs)(s.Z,{title:"Admin profile",children:[(0,i.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),";"]})}},2244:function(e,n,t){"use strict";var i;t.d(n,{S:function(){return i}}),function(e){e.Admin="admin",e.Client="client"}(i||(i={}))},6637:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return t(4699)}])}},function(e){e.O(0,[65,619,799,537,436,569,774,888,179],(function(){return n=6637,e(e.s=n);var n}));var n=e.O();_N_E=n}]);