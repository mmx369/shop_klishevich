(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{6013:function(e,n,r){"use strict";r.d(n,{Z:function(){return P}});var i=r(5893),t=r(7757),a=r.n(t),s=r(2137),c=r(7294),l=r(9008),o=r(1120),d=r(7623),u=r(5258),h=r(8358),x=r(2318),p=r(2613),f=r(7812),j=r(5629),m=r(5988),v=r(8633),Z=r(282),g=function(e){var n=e.isSignedIn;return(0,i.jsxs)("div",{className:"jsx-103564394",children:[!n&&(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,v.zB)()},children:"\u0412\u043e\u0439\u0442\u0438"}),n&&(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,v.w7)()},children:"\u0412\u044b\u0439\u0442\u0438"}),(0,i.jsx)(m.default,{id:"103564394",children:["div.jsx-103564394{margin:5px;}"]})]})},w=r(2669),k=r(1163),b=(0,o.Z)((function(){return(0,d.Z)({root:{flexGrow:1},link:{color:"white",textDecoration:"none"}})}));function N(e){e.currentUser;var n=e.currentEmail,r=(e.currentId,e.currentRole,e.isLoggedIn),t=e.isCartEmpty,a=b(),s=(0,k.useRouter)();return(0,i.jsx)(u.Z,{position:"static",children:(0,i.jsxs)(h.Z,{variant:"dense",className:a.root,children:[(0,i.jsx)(x.Z,{variant:"subtitle2",className:a.root,children:"\u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,i.jsx)(p.Z,{xsDown:!0,children:r===j.Y.True&&(0,i.jsxs)("div",{children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",n]})}),!!t.length&&(0,i.jsx)("div",{children:(0,i.jsx)(f.Z,{color:"inherit",onClick:function(e){e.preventDefault(),s.push("/cart")},children:(0,i.jsx)(w.Z,{})})}),r!==j.Y.Unknown&&(0,i.jsx)(g,{isSignedIn:r===j.Y.True})]})})}var y=r(770),C=r(1664),I=r(9226),E=r(3023),T=r(2244),S=r(456),_=(0,o.Z)((function(e){return(0,d.Z)({text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},link:{textDecoration:"none"}})}));function O(){var e=_();return(0,i.jsx)(c.Fragment,{children:(0,i.jsx)(u.Z,{position:"fixed",color:"primary",className:e.appBar,children:(0,i.jsxs)(h.Z,{variant:"dense",children:[(0,i.jsx)(p.Z,{xsDown:!0,children:(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})})}),(0,i.jsx)(C.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(C.default,{href:"/faq",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})})}),(0,i.jsx)(C.default,{href:"/contacts",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(Z.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})})]})})})}var A=(0,o.Z)((function(){return(0,d.Z)({main:{margin:"15px"},footer:{margin:"15px",textAlign:"center"},link:{textDecoration:"none"},bread:{marginTop:"10px",marginLeft:"15px"}})}));function P(e){var n=e.children,r=e.title,t=A(),o=(0,I.I0)(),d=(0,I.v9)((function(e){return e.app.currentUser})),u=(0,I.v9)((function(e){return e.app.currentEmail})),h=(0,I.v9)((function(e){return e.app.currentId})),p=(0,I.v9)((function(e){return e.app.currentRole})),f=(0,I.v9)((function(e){return e.app.isLoggedIn}));c.useEffect((function(){f===j.Y.Unknown&&(0,s.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Gg)();case 2:(n=e.sent)?(o((0,E.lL)(j.Y.True)),o((0,E.bM)(n.user.name,n.user.email,n.databaseId,n.role))):(o((0,E.lL)(j.Y.False)),o((0,E.bM)(void 0,void 0,void 0,void 0)));case 4:case"end":return e.stop()}}),e)})))()}),[]),c.useEffect((function(){o((0,S.D3)())}),[o]);var m=(0,I.v9)((function(e){return e.cart}))||[];return(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.default,{children:[(0,i.jsx)("title",{children:r}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{charSet:"utf-8"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsxs)("header",{children:[(0,i.jsx)(N,{currentUser:d,currentEmail:u,currentId:h,currentRole:p,isLoggedIn:f,isCartEmpty:m}),(0,i.jsxs)(y.Z,{"aria-label":"breadcrumb",className:t.bread,children:[(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}),(0,i.jsx)(C.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(C.default,{href:"/faq",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b"})})}),(0,i.jsx)(C.default,{href:"/contacts",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})}),p===T.S.Admin&&(0,i.jsx)(C.default,{href:"/admin",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)(x.Z,{color:"inherit",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})]}),(0,i.jsx)("main",{className:t.main,children:(0,i.jsx)("div",{style:{flexGrow:1},children:n})}),(0,i.jsxs)("footer",{className:t.footer,children:[(0,i.jsx)(O,{}),(0,i.jsx)(C.default,{href:"/",children:(0,i.jsx)("a",{className:t.link,children:(0,i.jsx)("b",{children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"})})})]})]})}},9778:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return _},default:function(){return O}});var i=r(5893),t=r(8481),a=r(1749),s=r(282),c=r(6847),l=r(9895),o=r(2302),d=r(3750),u=r(7394),h=r(8222),x=r(9613),p=r(7812),f=r(8633),j=r(1163),m=r(7294),v=r(6013),Z=r(2244),g=r(9067),w=r(7757),k=r.n(w),b=r(2137),N=r(9669),y=r.n(N),C=r(7343),I=r(9226),E=r(2132);r(6406);E.Am.configure();var T=function(){var e=(0,j.useRouter)(),n=((0,I.I0)(),(0,m.useState)("")),r=n[0],t=n[1],c=(0,m.useState)(""),l=c[0],o=c[1],d=function(){var n=(0,b.Z)(k().mark((function n(){var i;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={question:r,answer:l},n.next=4,y().post("".concat("https://shop.klishevich.ru","/api/addnewfaq"),i);case 4:E.Am.success("\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),t(""),o(""),e.replace(e.asPath),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),E.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(n.t0.response.data.message),{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return(0,i.jsx)(m.Fragment,{children:(0,i.jsx)("div",{children:(0,i.jsxs)(a.Z,{container:!0,direction:"column",children:[(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)("div",{children:(0,i.jsx)("h3",{children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(C.Z,{onChange:function(e){t(e.target.value)},minRows:4,maxRows:30,"aria-label":"\u0412\u043e\u043f\u0440\u043e\u0441",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441...",value:r})})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(C.Z,{onChange:function(e){o(e.target.value)},minRows:4,maxRows:30,"aria-label":"\u041e\u0442\u0432\u0435\u0442",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442...",value:l})})}),(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(s.Z,{variant:"outlined",color:"secondary",onClick:d,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})},S=function(e){var n=e.id,r=e.updateFaqList,t=e.changeVisibility,c=e.answer,l=e.question,o=(0,j.useRouter)(),d=((0,I.I0)(),(0,m.useState)("")),u=d[0],h=d[1],x=(0,m.useState)(""),p=x[0],f=x[1],v=function(){var e=(0,b.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y().delete("".concat("https://shop.klishevich.ru","/api/deletefaq"),{data:n});case 3:E.Am.success("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),o.replace(o.asPath),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),E.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.response.data.message),{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,b.Z)(k().mark((function e(){var i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={answer:p,question:u,id:n},e.next=4,y().put("".concat("https://shop.klishevich.ru","/api/updatefaq"),i);case 4:200===e.sent.status&&(E.Am.success("\u0417\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),r(),h(""),f(""),t()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),E.Am.error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.response.data.message),{position:E.Am.POSITION.TOP_LEFT,autoClose:5e3}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(m.Fragment,{children:(0,i.jsxs)(a.Z,{container:!0,spacing:2,direction:"column",children:[(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)("div",{children:(0,i.jsx)("h4",{children:"\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438\u043b\u0438 \u043e\u0442\u0432\u0435\u0442"})})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(C.Z,{onChange:function(e){h(e.target.value)},minRows:4,maxRows:30,"aria-label":"\u0412\u043e\u043f\u0440\u043e\u0441",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441...",defaultValue:l})})}),(0,i.jsx)("div",{children:(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(C.Z,{onChange:function(e){f(e.target.value)},minRows:4,maxRows:30,"aria-label":"\u041e\u0442\u0432\u0435\u0442",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442...",defaultValue:c})})}),(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(s.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:Z,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})}),(0,i.jsx)(a.Z,{item:!0,children:(0,i.jsx)(s.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:v,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})})]})})},_=!0;function O(e){var n=e.res,r=(0,f.kP)(),w=(0,t.Z)(r,2),k=w[0],b=w[1],N=(0,m.useState)(!1),y=N[0],C=N[1],I=(0,m.useState)(!1),E=I[0],_=I[1],O=(0,m.useState)(""),A=O[0],P=O[1],q=(0,m.useState)(""),L=q[0],R=q[1],F=(0,m.useState)(""),D=F[0],Y=F[1];if(b)return null;if(!k)return(0,i.jsxs)(v.Z,{title:"Admin profile",children:[(0,i.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),";"]});if(k.role!==Z.S.Admin)return(0,i.jsxs)(v.Z,{title:"Admin profile",children:[(0,i.jsx)("h1",{children:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"}),";"]});var z=function(e,n,r){return function(){_(!0),C(!1),P(e),R(n),Y(r)}};return(0,i.jsx)(v.Z,{title:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 | \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u0432",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(a.Z,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(a.Z,{item:!0,children:!y&&(0,i.jsx)(s.Z,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:function(){C(!0),console.log("add new faq")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441(\u043e\u0442\u0432\u0435\u0442)"})}),(0,i.jsx)(a.Z,{item:!0,children:E&&!y&&(0,i.jsx)(S,{id:A,updateFaqList:function(){j.default.replace(j.default.asPath)},changeVisibility:function(){_(!1)},answer:D,question:L})}),(0,i.jsx)(a.Z,{item:!0,children:y&&(0,i.jsx)(T,{})})]}),(0,i.jsx)(c.Z,{component:l.Z,children:(0,i.jsxs)(o.Z,{"aria-label":"simple table",children:[(0,i.jsx)(d.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{children:"\u0412\u043e\u043f\u0440\u043e\u0441"}),(0,i.jsx)(h.Z,{children:"\u041e\u0442\u0432\u0435\u0442"}),(0,i.jsx)(h.Z,{align:"center",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}),(0,i.jsx)(x.Z,{children:n&&n.map((function(e){return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{component:"th",scope:"row",children:e.question}),(0,i.jsx)(h.Z,{children:e.answer}),(0,i.jsx)(h.Z,{align:"center",children:(0,i.jsx)(p.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:z(e._id,e.question,e.answer),children:(0,i.jsx)(g.Z,{})})})]},e._id)}))})]})})]})})}},2244:function(e,n,r){"use strict";var i;r.d(n,{S:function(){return i}}),function(e){e.Admin="admin",e.Client="client"}(i||(i={}))},2839:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/addnewfaq",function(){return r(9778)}])}},function(e){e.O(0,[65,619,569,293,774,888,179],(function(){return n=2839,e(e.s=n);var n}));var n=e.O();_N_E=n}]);