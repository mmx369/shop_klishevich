(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{6013:function(e,n,r){"use strict";r.d(n,{Z:function(){return q}});var i=r(5893),a=r(7757),s=r.n(a),t=r(2137),c=r(7294),l=r(9008),o=r(1120),d=r(7623),m=r(5258),u=r(8358),x=r(2318),h=r(2613),j=r(7812),f=r(5629),p=r(5988),Z=r(8633),v=r(282),g=function(e){var n=e.isSignedIn;return(0,i.jsxs)("div",{className:"jsx-103564394",children:[!n&&(0,i.jsx)(v.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,Z.zB)()},children:"\u0412\u043e\u0439\u0442\u0438"}),n&&(0,i.jsx)(v.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:function(){(0,Z.w7)()},children:"\u0412\u044b\u0439\u0442\u0438"}),(0,i.jsx)(p.default,{id:"103564394",children:["div.jsx-103564394{margin:5px;}"]})]})},N=r(2669),y=r(1163),b=(0,o.Z)((function(){return(0,d.Z)({root:{flexGrow:1},link:{color:"white",textDecoration:"none"}})}));function k(e){e.currentUser;var n=e.currentEmail,r=(e.currentId,e.currentRole,e.isLoggedIn),a=e.isCartEmpty,s=b(),t=(0,y.useRouter)();return(0,i.jsx)(m.Z,{position:"static",children:(0,i.jsxs)(u.Z,{variant:"dense",className:s.root,children:[(0,i.jsx)(x.Z,{variant:"subtitle2",className:s.root,children:"\u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,i.jsx)(h.Z,{xsDown:!0,children:r===f.Y.True&&(0,i.jsxs)("div",{children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",n]})}),!!a.length&&(0,i.jsx)("div",{children:(0,i.jsx)(j.Z,{color:"inherit",onClick:function(e){e.preventDefault(),t.push("/cart")},children:(0,i.jsx)(N.Z,{})})}),r!==f.Y.Unknown&&(0,i.jsx)(g,{isSignedIn:r===f.Y.True})]})})}var w=r(770),_=r(1664),B=r(9226),E=r(3023),S=r(2244),I=r(456),z=(0,o.Z)((function(e){return(0,d.Z)({text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},link:{textDecoration:"none"}})}));function O(){var e=z();return(0,i.jsx)(c.Fragment,{children:(0,i.jsx)(m.Z,{position:"fixed",color:"primary",className:e.appBar,children:(0,i.jsxs)(u.Z,{variant:"dense",children:[(0,i.jsx)(h.Z,{xsDown:!0,children:(0,i.jsx)(_.default,{href:"/",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(v.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})})}),(0,i.jsx)(_.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(v.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(_.default,{href:"/faq",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(v.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b"})})}),(0,i.jsx)(_.default,{href:"/contacts",children:(0,i.jsx)("a",{className:e.link,children:(0,i.jsx)(v.Z,{color:"primary",variant:"contained",size:"small",disableElevation:!0,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})})]})})})}var C=(0,o.Z)((function(){return(0,d.Z)({main:{margin:"15px"},footer:{margin:"15px",textAlign:"center"},link:{textDecoration:"none"},bread:{marginTop:"10px",marginLeft:"15px"}})}));function q(e){var n=e.children,r=e.title,a=C(),o=(0,B.I0)(),d=(0,B.v9)((function(e){return e.app.currentUser})),m=(0,B.v9)((function(e){return e.app.currentEmail})),u=(0,B.v9)((function(e){return e.app.currentId})),h=(0,B.v9)((function(e){return e.app.currentRole})),j=(0,B.v9)((function(e){return e.app.isLoggedIn}));c.useEffect((function(){j===f.Y.Unknown&&(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.Gg)();case 2:(n=e.sent)?(o((0,E.lL)(f.Y.True)),o((0,E.bM)(n.user.name,n.user.email,n.databaseId,n.role))):(o((0,E.lL)(f.Y.False)),o((0,E.bM)(void 0,void 0,void 0,void 0)));case 4:case"end":return e.stop()}}),e)})))()}),[]),c.useEffect((function(){o((0,I.D3)())}),[o]);var p=(0,B.v9)((function(e){return e.cart}))||[];return(0,i.jsxs)("div",{children:[(0,i.jsxs)(l.default,{children:[(0,i.jsx)("title",{children:r}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{charSet:"utf-8"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsxs)("header",{children:[(0,i.jsx)(k,{currentUser:d,currentEmail:m,currentId:u,currentRole:h,isLoggedIn:j,isCartEmpty:p}),(0,i.jsxs)(w.Z,{"aria-label":"breadcrumb",className:a.bread,children:[(0,i.jsx)(_.default,{href:"/",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}),(0,i.jsx)(_.default,{href:"/paymentandshipping",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})}),(0,i.jsx)(_.default,{href:"/faq",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b"})})}),(0,i.jsx)(_.default,{href:"/contacts",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)(x.Z,{color:"primary",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})}),h===S.S.Admin&&(0,i.jsx)(_.default,{href:"/admin",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)(x.Z,{color:"inherit",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})})})]})]}),(0,i.jsx)("main",{className:a.main,children:(0,i.jsx)("div",{style:{flexGrow:1},children:n})}),(0,i.jsxs)("footer",{className:a.footer,children:[(0,i.jsx)(O,{}),(0,i.jsx)(_.default,{href:"/",children:(0,i.jsx)("a",{className:a.link,children:(0,i.jsx)("b",{children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041d\u0443\u043c\u0438\u0437\u043c\u0430\u0442\u0438\u043a\u0430 \u0438 \u0431\u043e\u043d\u0438\u0441\u0442\u0438\u043a\u0430"})})})]})]})}},4971:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return _}});var i=r(5893),a=r(8481),s=r(8633),t=(r(7294),r(7757)),c=r.n(t),l=r(2137),o=r(2949),d=r(8463),m=r(9912),u=r(9956),x=r(6562),h=r(8286),j=r(282),f=r(7513),p=r(9226),Z=r(9501),v=r(9669),g=r.n(v),N=r(2132),y=(r(6406),r(1163));N.Am.configure();var b={firstName:"",secondName:"",fatherName:"",zip:"",country:"\u0420\u043e\u0441\u0441\u0438\u044f",region:"",city:"",address:"",phone:"",comments:""};function k(){var e=(0,y.useRouter)(),n=(0,p.v9)((function(e){return e.cart})).map((function(e){e.imageUrl,e.date,e.__v;return(0,o.Z)(e,["imageUrl","date","__v"])})),r=(0,p.v9)((function(e){return e.shippingPrice}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{children:(0,i.jsx)(m.Z,{children:(0,i.jsx)(f.J9,{initialValues:b,validationSchema:(0,Z.Ry)({firstName:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(100),secondName:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(100),fatherName:(0,Z.Z_)().min(1).max(100),zip:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(10),country:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(100),region:(0,Z.Z_)().min(1).max(100),city:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(100),address:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(1).max(100),phone:(0,Z.Z_)().required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c").min(10).max(15),comments:(0,Z.Z_)().min(1).max(100)}),onSubmit:function(){var i=(0,l.Z)(c().mark((function i(a,s){var t;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=s.setStatus,s.resetForm,function(){var i=(0,l.Z)(c().mark((function i(){var s,l;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s={firstName:a.firstName,secondName:a.secondName,fatherName:a.fatherName,zip:a.zip,country:a.country,region:a.region,city:a.city,address:a.address,phone:a.phone,comments:a.comments,order:n,totalPrice:n.reduce((function(e,n){return e+n.priceOfGoods*n.amountOfGoods}),0),shippingPrice:r},console.log("!!newOrder!!",s),i.next=5,g().post("".concat("http://shop.klishevich.ru","/api/addneworder"),s);case 5:l=i.sent,console.log("!!res",l.data.message),window.localStorage.removeItem("cart"),N.Am.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d",{position:N.Am.POSITION.TOP_LEFT,autoClose:5e3}),e.push("/"),i.next=16;break;case 12:i.prev=12,i.t0=i.catch(0),console.log(i.t0),t({success:!1});case 16:case"end":return i.stop()}}),i,null,[[0,12]])})));return function(){return i.apply(this,arguments)}}()();case 3:case"end":return i.stop()}}),i)})));return function(e,n){return i.apply(this,arguments)}}(),children:function(e,n,r,a){return(0,i.jsxs)(f.l0,{children:[(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"secondName",as:h.Z,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),(0,i.jsx)(f.Bc,{name:"secondName"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"firstName",as:h.Z,label:"\u0418\u043c\u044f"}),(0,i.jsx)(f.Bc,{name:"firstName"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"fatherName",as:h.Z,label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e(\u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438)"}),(0,i.jsx)(f.Bc,{name:"fatherName"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"zip",as:h.Z,label:"\u0418\u043d\u0434\u0435\u043a\u0441"}),(0,i.jsx)(f.Bc,{name:"zip"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"country",as:h.Z,label:"\u0421\u0442\u0440\u0430\u043d\u0430"}),(0,i.jsx)(f.Bc,{name:"country"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"region",as:h.Z,label:"\u0420\u0435\u0433\u0438\u043e\u043d(\u041e\u0431\u043b\u0430\u0441\u0442\u044c, \u043a\u0440\u0430\u0439)"}),(0,i.jsx)(f.Bc,{name:"region"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"city",as:h.Z,label:"\u0413\u043e\u0440\u043e\u0434"}),(0,i.jsx)(f.Bc,{name:"city"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"address",as:h.Z,label:"\u0410\u0434\u0440\u0435\u0441(\u0443\u043b\u0438\u0446\u0430, \u0434\u043e\u043c, \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430)"}),(0,i.jsx)(f.Bc,{name:"address"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"phone",as:h.Z,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,i.jsx)(f.Bc,{name:"phone"})]})}),(0,i.jsx)(u.Z,{marginBottom:2,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(f.gN,{name:"comments",as:h.Z,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"}),(0,i.jsx)(f.Bc,{name:"comments"})]})}),(0,i.jsx)(j.Z,{variant:"contained",color:"primary",type:"submit",disabled:r||a,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"}),(0,i.jsx)("pre",{children:JSON.stringify(n,null,4)}),(0,i.jsx)("pre",{children:JSON.stringify(e,null,4)})]})}})})}),(0,i.jsx)("pre",{children:JSON.stringify(n,null,2)})]})}var w=r(6013);function _(){var e=(0,s.kP)(),n=(0,a.Z)(e,2),r=n[0];return n[1]?null:r?(0,i.jsxs)("div",{children:[(0,i.jsx)(k,{}),"checkout"]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(w.Z,{title:"Paper Money Shop",children:[(0,i.jsx)("h1",{children:"\u0412\u0430\u043c \u043d\u0435\u043e\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),";"]})})}},2244:function(e,n,r){"use strict";var i;r.d(n,{S:function(){return i}}),function(e){e.Admin="admin",e.Client="client"}(i||(i={}))},6377:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return r(4971)}])}},function(e){e.O(0,[65,619,799,537,436,188,513,198,774,888,179],(function(){return n=6377,e(e.s=n);var n}));var n=e.O();_N_E=n}]);